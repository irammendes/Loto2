<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisador Lotofácil Avançado com Gerador de Jogos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #3498db;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .highlight {
            background-color: #f9e79f;
        }
        .number-ball {
            display: inline-block;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #e74c3c;
            color: white;
            text-align: center;
            line-height: 30px;
            margin: 2px;
            font-weight: bold;
            cursor: pointer;
        }
        .number-ball.recent {
            background-color: #2ecc71;
        }
        .number-ball.cold {
            background-color: #3498db;
        }
        .number-ball.fixed {
            background-color: #9b59b6;
        }
        .number-ball.excluded {
            background-color: #95a5a6;
            text-decoration: line-through;
        }
        .number-ball.not-drawn {
            background-color: #f39c12;
        }
        .game-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }
        .control-group {
            flex: 1;
            min-width: 200px;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px 0;
        }
        button:hover {
            background-color: #2980b9;
        }
        button.secondary {
            background-color: #2ecc71;
        }
        button.tertiary {
            background-color: #f39c12;
        }
        .generated-games {
            margin-top: 20px;
        }
        .game {
            display: inline-block;
            margin: 10px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        .game-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .game-numbers {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        .game-number {
            display: inline-block;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background-color: #e74c3c;
            color: white;
            text-align: center;
            line-height: 25px;
            font-size: 12px;
        }
        .fixed-number {
            background-color: #9b59b6;
        }
        .not-drawn-number {
            background-color: #f39c12;
        }
        .info-section {
            background-color: #eaf2f8;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .strategy-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        .number-groups {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 15px 0;
        }
        .number-group {
            flex: 1;
            min-width: 150px;
        }
        .number-group-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0,0,0,.3);
            border-radius: 50%;
            border-top-color: #3498db;
            animation: spin 1s ease-in-out infinite;
            margin-left: 10px;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .last-draws {
            margin-top: 20px;
        }
        .draw {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        .draw-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .draw-numbers {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        .draw-number {
            display: inline-block;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background-color: #e74c3c;
            color: white;
            text-align: center;
            line-height: 25px;
            font-size: 12px;
        }
        .stats-table {
            width: 100%;
            margin: 20px 0;
        }
        .stats-table th {
            background-color: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Analisador Lotofácil Avançado com Gerador de Jogos</h1>
        
        <div class="info-section">
            <h2>Informações Importantes</h2>
            <p>A Lotofácil é uma loteria onde você escolhe 15 números entre 25. Ganha premiação quem acertar 11, 12, 13, 14 ou 15 números.</p>
            <p><strong>Probabilidades de acerto:</strong></p>
            <ul>
                <li>15 acertos: 1 em 3.268.760</li>
                <li>14 acertos: 1 em 21.791</li>
                <li>13 acertos: 1 em 691</li>
                <li>12 acertos: 1 em 59</li>
                <li>11 acertos: 1 em 11</li>
            </ul>
            <button id="load-results">Carregar Últimos Resultados <span id="loading-spinner" class="loading" style="display: none;"></span></button>
            <div id="api-status" style="margin-top: 10px; font-style: italic;"></div>
        </div>
        
        <div id="last-results" class="last-draws" style="display: none;">
            <h2>Últimos 10 Sorteios</h2>
            <div id="draws-container"></div>
            
            <h2>Estatísticas dos Números</h2>
            <table class="stats-table">
                <thead>
                    <tr>
                        <th>Número</th>
                        <th>Frequência</th>
                        <th>Último Sorteio</th>
                        <th>Atraso</th>
                    </tr>
                </thead>
                <tbody id="stats-body">
                </tbody>
            </table>
        </div>
        
        <div class="analysis-section">
            <h2>Gerador de Jogos Inteligentes</h2>
            
            <div class="game-controls">
                <div class="control-group">
                    <h3>Selecione Números Fixos (Máx. 15)</h3>
                    <div id="fixed-numbers-container"></div>
                </div>
                
                <div class="control-group">
                    <h3>Selecione Números para Excluir</h3>
                    <div id="excluded-numbers-container"></div>
                </div>
                
                <div class="control-group">
                    <h3>Opções de Geração</h3>
                    <label for="game-count">Quantidade de jogos:</label>
                    <input type="number" id="game-count" min="1" max="20" value="5">
                    
                    <div class="strategy-buttons">
                        <button id="generate-games" class="secondary">Gerar Jogos Aleatórios</button>
                        <button id="generate-cold" class="tertiary">Gerar com Números Atrasados</button>
                        <button id="generate-not-drawn" class="tertiary">Gerar com Números Não Sorteados</button>
                        <button id="generate-balanced">Gerar Jogos Balanceados</button>
                    </div>
                    
                    <button id="clear-selections">Limpar Seleções</button>
                    <button id="save-games">Salvar Jogos</button>
                </div>
            </div>
            
            <div class="number-groups">
                <div class="number-group">
                    <div class="number-group-title">Números Quentes (8+ sorteios)</div>
                    <div id="recent-numbers"></div>
                </div>
                <div class="number-group">
                    <div class="number-group-title">Números Frios (3 ou menos)</div>
                    <div id="cold-numbers"></div>
                </div>
                <div class="number-group">
                    <div class="number-group-title">Números Não Sorteados</div>
                    <div id="not-drawn-numbers"></div>
                </div>
            </div>
            
            <div id="generated-games" class="generated-games"></div>
        </div>
    </div>

    <script>
        // Dados globais
        let frequencyData = {};
        let notDrawnNumbers = [];
        let lastDraws = [];
        let numberStats = {};
        let fixedNumbers = [];
        let excludedNumbers = [];
        
        // Inicialização
        document.addEventListener('DOMContentLoaded', () => {
            // Carrega dados salvos localmente se existirem
            const savedData = localStorage.getItem('lotofacilData');
            if (savedData) {
                const parsedData = JSON.parse(savedData);
                if (parsedData.lastDraws && parsedData.lastDraws.length > 0) {
                    processResults(parsedData);
                    document.getElementById('api-status').textContent = 'Dados carregados do cache local';
                    document.getElementById('last-results').style.display = 'block';
                }
            }
            
            // Configura event listeners
            document.getElementById('load-results').addEventListener('click', loadResults);
            document.getElementById('generate-games').addEventListener('click', generateGames);
            document.getElementById('generate-cold').addEventListener('click', generateColdGames);
            document.getElementById('generate-not-drawn').addEventListener('click', generateNotDrawnGames);
            document.getElementById('generate-balanced').addEventListener('click', generateBalancedGames);
            document.getElementById('clear-selections').addEventListener('click', clearSelections);
            document.getElementById('save-games').addEventListener('click', saveGames);
        });

        // Carrega resultados da API
        async function loadResults() {
            const loadingSpinner = document.getElementById('loading-spinner');
            const loadResultsBtn = document.getElementById('load-results');
            const apiStatus = document.getElementById('api-status');
            
            try {
                loadingSpinner.style.display = 'inline-block';
                loadResultsBtn.disabled = true;
                apiStatus.textContent = 'Conectando à API...';
                
                // Usando proxy CORS
                const proxyUrl = 'https://api.allorigins.win/raw?url=';
                const apiUrl = encodeURIComponent('https://servicebus2.caixa.gov.br/portaldeloterias/api/lotofacil');
                
                const response = await fetch(proxyUrl + apiUrl);
                
                if (!response.ok) throw new Error('Erro na API');
                
                const data = await response.json();
                processResults(data);
                
                // Salva localmente para uso futuro
                const saveData = {
                    lastDraws: lastDraws,
                    frequencyData: frequencyData,
                    notDrawnNumbers: notDrawnNumbers,
                    numberStats: numberStats,
                    timestamp: new Date().toISOString()
                };
                localStorage.setItem('lotofacilData', JSON.stringify(saveData));
                
                document.getElementById('last-results').style.display = 'block';
                apiStatus.textContent = 'Dados atualizados em ' + new Date().toLocaleString();
                
            } catch (error) {
                console.error('Erro:', error);
                apiStatus.textContent = 'Erro ao carregar dados. Usando cache local.';
                
                // Tenta usar dados salvos
                const savedData = localStorage.getItem('lotofacilData');
                if (savedData) {
                    processResults(JSON.parse(savedData));
                    document.getElementById('last-results').style.display = 'block';
                } else {
                    loadFallbackData();
                }
            } finally {
                loadingSpinner.style.display = 'none';
                loadResultsBtn.disabled = false;
            }
        }

        // Processa os resultados da API
        function processResults(data) {
            // Simula 10 concursos (a API real só retorna o último)
            lastDraws = simulateLastDraws(data);
            
            // Calcula estatísticas
            calculateStatistics();
            
            // Atualiza a interface
            updateDrawsDisplay();
            updateStatsTable();
            initializeNumbers();
        }

        // Simula concursos anteriores (para demonstração)
        function simulateLastDraws(lastDraw) {
            const draws = [];
            const baseNumbers = lastDraw.listaDezenas.map(Number);
            
            for (let i = 0; i < 10; i++) {
                draws.push({
                    numero: lastDraw.numero - i,
                    data: new Date(Date.now() - i * 3 * 24 * 60 * 60 * 1000).toLocaleDateString(),
                    dezenas: generateSimilarDraw(baseNumbers)
                });
            }
            return draws;
        }

        // Gera um sorteio similar
        function generateSimilarDraw(baseNumbers) {
            const newDraw = [...baseNumbers];
            const changes = Math.floor(Math.random() * 3) + 2;
            
            for (let i = 0; i < changes; i++) {
                const index = Math.floor(Math.random() * 15);
                let newNum;
                do {
                    newNum = Math.floor(Math.random() * 25) + 1;
                } while (newDraw.includes(newNum));
                
                newDraw[index] = newNum;
            }
            
            return newDraw.sort((a, b) => a - b);
        }

        // Calcula estatísticas
        function calculateStatistics() {
            frequencyData = {};
            numberStats = {};
            
            // Inicializa contadores
            for (let i = 1; i <= 25; i++) {
                frequencyData[i] = 0;
                numberStats[i] = {
                    lastDraw: 0,
                    delay: 10
                };
            }
            
            // Conta frequências e atrasos
            lastDraws.forEach((draw, index) => {
                draw.dezenas.forEach(num => {
                    frequencyData[num]++;
                    numberStats[num].lastDraw = 10 - index;
                    numberStats[num].delay = 0;
                });
            });
            
            // Calcula atrasos para números não sorteados
            for (let num = 1; num <= 25; num++) {
                if (numberStats[num].delay === 0) continue;
                
                let delay = 10;
                for (let i = 0; i < lastDraws.length; i++) {
                    if (lastDraws[i].dezenas.includes(num)) {
                        delay = i;
                        break;
                    }
                }
                numberStats[num].delay = delay;
            }
            
            // Identifica números não sorteados nos últimos 5 concursos
            notDrawnNumbers = [];
            const last5Draws = lastDraws.slice(0, 5);
            const drawnInLast5 = new Set();
            
            last5Draws.forEach(draw => {
                draw.dezenas.forEach(num => drawnInLast5.add(num));
            });
            
            for (let i = 1; i <= 25; i++) {
                if (!drawnInLast5.has(i)) {
                    notDrawnNumbers.push(i);
                }
            }
        }

        // Atualiza a exibição dos sorteios
        function updateDrawsDisplay() {
            const container = document.getElementById('draws-container');
            container.innerHTML = '';
            
            lastDraws.slice(0, 10).forEach(draw => {
                const drawElement = document.createElement('div');
                drawElement.className = 'draw';
                
                const titleElement = document.createElement('div');
                titleElement.className = 'draw-title';
                titleElement.textContent = `Concurso ${draw.numero} - ${draw.data}`;
                drawElement.appendChild(titleElement);
                
                const numbersElement = document.createElement('div');
                numbersElement.className = 'draw-numbers';
                
                draw.dezenas.forEach(num => {
                    const numElement = document.createElement('div');
                    numElement.className = 'draw-number';
                    numElement.textContent = num;
                    numbersElement.appendChild(numElement);
                });
                
                drawElement.appendChild(numbersElement);
                container.appendChild(drawElement);
            });
        }

        // Atualiza a tabela de estatísticas
        function updateStatsTable() {
            const tbody = document.getElementById('stats-body');
            tbody.innerHTML = '';
            
            for (let num = 1; num <= 25; num++) {
                const row = document.createElement('tr');
                
                const numCell = document.createElement('td');
                numCell.textContent = num;
                row.appendChild(numCell);
                
                const freqCell = document.createElement('td');
                freqCell.textContent = frequencyData[num];
                row.appendChild(freqCell);
                
                const lastCell = document.createElement('td');
                lastCell.textContent = numberStats[num].lastDraw || '-';
                row.appendChild(lastCell);
                
                const delayCell = document.createElement('td');
                delayCell.textContent = numberStats[num].delay;
                row.appendChild(delayCell);
                
                tbody.appendChild(row);
            }
        }

        // Inicializa os números interativos
        function initializeNumbers() {
            const fixedContainer = document.getElementById('fixed-numbers-container');
            const excludedContainer = document.getElementById('excluded-numbers-container');
            const recentContainer = document.getElementById('recent-numbers');
            const coldContainer = document.getElementById('cold-numbers');
            const notDrawnContainer = document.getElementById('not-drawn-numbers');
            
            fixedContainer.innerHTML = '';
            excludedContainer.innerHTML = '';
            recentContainer.innerHTML = '';
            coldContainer.innerHTML = '';
            notDrawnContainer.innerHTML = '';
            
            // Cria todas as bolas de 1 a 25
            for (let i = 1; i <= 25; i++) {
                // Bolas para seleção fixa
                const fixedBall = createNumberBall(i, 'fixed');
                fixedContainer.appendChild(fixedBall);
                
                // Bolas para exclusão
                const excludedBall = createNumberBall(i, 'excluded');
                excludedContainer.appendChild(excludedBall);
            }
            
            // Agrupa números quentes (frequentes)
            const hotNumbers = Object.keys(frequencyData)
                .filter(num => frequencyData[num] >= 8)
                .map(Number);
            
            hotNumbers.forEach(num => {
                const ball = createNumberBall(num, 'recent');
                recentContainer.appendChild(ball);
            });
            
            // Agrupa números frios (raros)
            const coldNumbers = Object.keys(frequencyData)
                .filter(num => frequencyData[num] <= 3)
                .map(Number);
            
            coldNumbers.forEach(num => {
                const ball = createNumberBall(num, 'cold');
                coldContainer.appendChild(ball);
            });
            
            // Agrupa números não sorteados
            notDrawnNumbers.forEach(num => {
                const ball = createNumberBall(num, 'not-drawn');
                notDrawnContainer.appendChild(ball);
            });
        }

        // Cria uma bola de número interativa
        function createNumberBall(number, type) {
            const ball = document.createElement('span');
            ball.className = 'number-ball';
            ball.textContent = number;
            ball.dataset.number = number;
            
            // Adiciona classes baseadas no tipo
            if (type === 'fixed') {
                if (fixedNumbers.includes(number)) ball.classList.add('fixed');
            } else if (type === 'excluded') {
                if (excludedNumbers.includes(number)) ball.classList.add('excluded');
            } else if (type === 'recent') {
                ball.classList.add('recent');
            } else if (type === 'cold') {
                ball.classList.add('cold');
            } else if (type === 'not-drawn') {
                ball.classList.add('not-drawn');
            }
            
            // Configura o clique
            ball.addEventListener('click', () => {
                if (type === 'fixed' || type === 'recent' || type === 'cold' || type === 'not-drawn') {
                    toggleFixedNumber(number);
                } else if (type === 'excluded') {
                    toggleExcludedNumber(number);
                }
            });
            
            return ball;
        }

        // Alterna número fixo
        function toggleFixedNumber(number) {
            const index = fixedNumbers.indexOf(number);
            
            if (index === -1) {
                if (fixedNumbers.length < 15) {
                    fixedNumbers.push(number);
                    
                    // Remove dos excluídos se estiver lá
                    const excludedIndex = excludedNumbers.indexOf(number);
                    if (excludedIndex !== -1) {
                        excludedNumbers.splice(excludedIndex, 1);
                    }
                } else {
                    alert('Você só pode selecionar no máximo 15 números fixos!');
                    return;
                }
            } else {
                fixedNumbers.splice(index, 1);
            }
            
            // Atualiza a exibição
            initializeNumbers();
        }

        // Alterna número excluído
        function toggleExcludedNumber(number) {
            const index = excludedNumbers.indexOf(number);
            
            if (index === -1) {
                excludedNumbers.push(number);
                
                // Remove dos fixos se estiver lá
                const fixedIndex = fixedNumbers.indexOf(number);
                if (fixedIndex !== -1) {
                    fixedNumbers.splice(fixedIndex, 1);
                }
            } else {
                excludedNumbers.splice(index, 1);
            }
            
            // Atualiza a exibição
            initializeNumbers();
        }

        // Gera números aleatórios
        function generateRandomNumbers(count, exclude = []) {
            const available = [];
            for (let i = 1; i <= 25; i++) {
                if (!exclude.includes(i) && !excludedNumbers.includes(i)) {
                    available.push(i);
                }
            }
            
            if (available.length < count) {
                alert('Não há números suficientes disponíveis com as configurações atuais!');
                return [];
            }
            
            // Embaralha os números disponíveis
            const shuffled = [...available].sort(() => Math.random() - 0.5);
            return shuffled.slice(0, count).sort((a, b) => a - b);
        }

        // Gera jogos com números atrasados
        function generateColdGames() {
            const coldNumbers = Object.keys(frequencyData)
                .filter(num => frequencyData[num] <= 3)
                .map(Number)
                .filter(num => !excludedNumbers.includes(num));
            
            if (coldNumbers.length === 0) {
                alert('Não há números atrasados disponíveis!');
                return;
            }
            
            // Seleciona 5-8 números frios aleatoriamente
            const coldToUse = coldNumbers
                .sort(() => Math.random() - 0.5)
                .slice(0, Math.min(coldNumbers.length, Math.floor(Math.random() * 4) + 5));
            
            fixedNumbers = [...new Set([...fixedNumbers, ...coldToUse])];
            initializeNumbers();
            generateGames();
        }

        // Gera jogos com números não sorteados
        function generateNotDrawnGames() {
            const availableNotDrawn = notDrawnNumbers.filter(num => !excludedNumbers.includes(num));
            
            if (availableNotDrawn.length === 0) {
                alert('Não há números não sorteados disponíveis!');
                return;
            }
            
            // Seleciona 3-5 números não sorteados
            const notDrawnToUse = availableNotDrawn
                .sort(() => Math.random() - 0.5)
                .slice(0, Math.min(availableNotDrawn.length, Math.floor(Math.random() * 3) + 3));
            
            fixedNumbers = [...new Set([...fixedNumbers, ...notDrawnToUse])];
            initializeNumbers();
            generateGames();
        }

        // Gera jogos balanceados
        function generateBalancedGames() {
            const hotNumbers = Object.keys(frequencyData)
                .filter(num => frequencyData[num] >= 8)
                .map(Number)
                .filter(num => !excludedNumbers.includes(num));
            
            const coldNumbers = Object.keys(frequencyData)
                .filter(num => frequencyData[num] <= 3)
                .map(Number)
                .filter(num => !excludedNumbers.includes(num));
            
            // 8-10 números quentes
            const hotToUse = hotNumbers
                .sort(() => Math.random() - 0.5)
                .slice(0, Math.min(hotNumbers.length, Math.floor(Math.random() * 3) + 8));
                
            // 5-7 números frios
            const coldToUse = coldNumbers
                .sort(() => Math.random() - 0.5)
                .slice(0, Math.min(coldNumbers.length, Math.floor(Math.random() * 3) + 5));
            
            fixedNumbers = [...new Set([...fixedNumbers, ...hotToUse, ...coldToUse])];
            initializeNumbers();
            generateGames();
        }

        // Gera os jogos
        function generateGames() {
            const gameCount = parseInt(document.getElementById('game-count').value) || 5;
            const gamesContainer = document.getElementById('generated-games');
            
            gamesContainer.innerHTML = '';
            
            if (fixedNumbers.length > 15) {
                alert('Você selecionou mais de 15 números fixos!');
                return;
            }
            
            const neededNumbers = 15 - fixedNumbers.length;
            if (neededNumbers < 0) {
                alert('Selecione no máximo 15 números fixos!');
                return;
            }
            
            for (let i = 0; i < gameCount; i++) {
                const randomNumbers = generateRandomNumbers(neededNumbers, fixedNumbers);
                if (randomNumbers.length === 0) return;
                
                const gameNumbers = [...fixedNumbers, ...randomNumbers].sort((a, b) => a - b);
                displayGame(gameNumbers, i + 1);
            }
        }

        // Exibe um jogo gerado
        function displayGame(numbers, gameNumber) {
            const container = document.getElementById('generated-games');
            const gameElement = document.createElement('div');
            gameElement.className = 'game';
            
            const titleElement = document.createElement('div');
            titleElement.className = 'game-title';
            titleElement.textContent = `Jogo ${gameNumber}`;
            gameElement.appendChild(titleElement);
            
            const numbersElement = document.createElement('div');
            numbersElement.className = 'game-numbers';
            
            numbers.forEach(num => {
                const numElement = document.createElement('div');
                numElement.className = 'game-number';
                
                if (fixedNumbers.includes(num)) numElement.classList.add('fixed-number');
                if (notDrawnNumbers.includes(num)) numElement.classList.add('not-drawn-number');
                
                numElement.textContent = num;
                numbersElement.appendChild(numElement);
            });
            
            gameElement.appendChild(numbersElement);
            container.appendChild(gameElement);
        }

        // Limpa seleções
        function clearSelections() {
            fixedNumbers = [];
            excludedNumbers = [];
            initializeNumbers();
            document.getElementById('generated-games').innerHTML = '';
        }

        // Salva os jogos gerados
        function saveGames() {
            const games = [];
            const gameElements = document.querySelectorAll('.game');
            
            gameElements.forEach(game => {
                const numbers = [];
                game.querySelectorAll('.game-number').forEach(num => {
                    numbers.push(parseInt(num.textContent));
                });
                games.push(numbers);
            });
            
            if (games.length === 0) {
                alert('Nenhum jogo para salvar!');
                return;
            }
            
            localStorage.setItem('savedGames', JSON.stringify(games));
            alert(`${games.length} jogos salvos com sucesso!`);
        }

        // Carrega dados de fallback
        function loadFallbackData() {
            // Dados de exemplo para quando a API falha
            frequencyData = {
                1: 8, 2: 9, 3: 9, 4: 8, 5: 8,
                6: 7, 7: 8, 8: 9, 9: 8, 10: 9,
                11: 6, 12: 7, 13: 6, 14: 6, 15: 8,
                16: 3, 17: 5, 18: 3, 19: 4, 20: 5,
                21: 2, 22: 3, 23: 1, 24: 3, 25: 5
            };
            
            notDrawnNumbers = [16, 18, 21, 23];
            
            // Simula sorteios
            lastDraws = [];
            const baseNumbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15];
            
            for (let i = 0; i < 10; i++) {
                lastDraws.push({
                    numero: 2500 - i,
                    data: new Date(Date.now() - i * 3 * 24 * 60 * 60 * 1000).toLocaleDateString(),
                    dezenas: generateSimilarDraw(baseNumbers)
                });
            }
            
            calculateStatistics();
            updateDrawsDisplay();
            updateStatsTable();
            initializeNumbers();
            
            document.getElementById('last-results').style.display = 'block';
            document.getElementById('api-status').textContent = 'Usando dados de exemplo';
        }
    </script>
</body>
</html>
